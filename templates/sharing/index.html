{% load static %}
<link rel="stylesheet" type = "text/css" href="{% static 'sharing/slider.css' %}">
<link rel="stylesheet" type = "text/css" href="{% static 'sharing/style.css' %}">
<link rel="stylesheet" type = "text/css" href="{% static 'sharing/artifacts.css' %}">

<div class="main">
<div class="container">
<div id="content-main" class="artCatalog" app="researchSharingApp">

    <div class="content scope" controller="ResearchSharingController">
        <h2 style="margin-top:1em">Research</h2>
        <div class="add-artifact-link">
            <a class="btn btn-success" href="https://jupyter.chameleoncloud.org">
                <i class="fa fa-plus-circle"></i>
                Add your research from JupyterHub
            </a>
        </div>
        

        <form action="/portal/" method="post">
            {% csrf_token %}

        <div class="form-group">
            <label for="id_search" style="font-weight:normal;display:block">
            <input class="form-control pristine untouched valid" type="text" name="search" 
                id="id_search" placeholder="Search by name, description or author."
                {% if form.search.value %}value={{ form.search.value }}{% endif %}>
            </input>
            </label>
        </div>

            <label for="id_labels">
            <select name="labels" id="id_labels" multiple>
                {% for value, text in form.fields.labels.choices %}
                    <option value="{{ value }}"
                        {% if value in form.labels.value %}selected{% endif %}>
                        {{ text }}
                    </option>
                {% endfor %}
            </select>
            </label>
            <div>
            <label class="switch" id="id_is_or">
                <input type="checkbox" id="id_is_or" name="is_or"
                    {% if form.is_or.value %}checked{% endif %}>
                    <div class="slider round">
                        <span class="on">OR</span>
                        <span class="off">AND</span>
                    </div>
                </input>
            </label>
            </div>

            <input type="submit" value="Submit">
            <p> Submitted? {{ submitted }} </p>
            <p> Searched? {{ searched }} </p>
        </form>

<div class="artifact-grid artifact-content">
{% for artifact in artifacts %}
    <div class="artifact-grid-item corner-ribbon-container" >
        <div class="thumbnail corner-ribbon-container text-center">
            <img src="{{ artifact.image }}" class="scope" alt="Artifact Icon">
            <div class="caption">
                <h4>
                <a href="/portal/{{ artifact.id }}" class="binding" href="{{ artifact.id }}/">
                    {{ artifact.title }}
                </a>
                </h4>
                <p bind="artifact.short_description" class="binding">
                    {{ artifact.short_description }}
                </p>
            </div>
        </div>
    </div>
{% endfor %}
</div>

</div>
</div>
</div>
